{% extends 'base.html' %}

{% block title %}
Update House
{% endblock %}
{% block content %}

<div class="content-wrapper">
    <div class="content-heading"><h1>Update House</h1></div>
    <div class="container-fluid">
       <div class="card card-default d-lg-block">
          <div class="row">
             <div class="col col-xs-12 col-sm-8 col-md-8 col-lg-8">
                <div class="card-title text-left alert alert-default"><b style="font-size:22px;">Update house details</b></div>
                <div class="card-body">
                   <form class="form-updatetenant" method="POST" action="">
                     
                      <fieldset>
                        <legend></legend>
                        Tenant Name:
                       <input type="text" name="first_name" value="{{ tenant_to_update.first_name }}" class="form-control">
                       <p></p>
                       Surname:
                       <input type="text" name="surname" value="{{ tenant_to_update.surname }}" class="form-control">
                       <p></p>
                       NIDA:
                       <input type="text" name="nida" value="{{ tenant_to_update.nida }}" class="form-control">
                       <p></p>
                       Phone Number:
                       <input type="text" name="phone" value="{{ tenant_to_update.phone }}" class="form-control">
                       <p></p>
                       Email::
                       <input type="text" name="email" value="{{ tenant_to_update.email }}" class="form-control">
                       <p></p>
                       
                     
                       <p></p>
                         House
                        <select id ="house_id" name="house_id" class="form-control">
                          
                           {% for h in choices %}
                           <option value="{{h[0]}}" {% if h[0] == state.house_id %} selected {% endif %}>{{h[1]}}</option>
                           {% endfor %}
                        </select>
                       <p></p>
                       Number of rooms:
                       <input type="text" name="num_room_to_take" value="{{ tenant_to_update.num_room_to_take }}" class="form-control">
                       <p></p>
                       Cost for each room:
                       <input type="text" id="price_each_room" name="price_each_room" value="{{ tenant_to_update.price_each_room }}" class="form-control">
                       <p></p>
                       Rent per Month:
                       <input type="text" d="rent_per_month" name="rent_per_month" value="{{ tenant_to_update.rent_per_month }}" class="form-control">
                       <p></p>
                       Months to Pay:
                       <input type="text" id="months_of_payment" name="months_of_payment" value="{{ tenant_to_update.months_of_payment }}" class="form-control">
                       <p></p>
                       Total Payable:
                       <input type="text" name="total_payable" value="{{ tenant_to_update.total_payable }}" class="form-control">
                       <p></p>
                       Paid Amount:
                       <input type="text" name="paidamount" value="{{ tenant_to_update.paidamount }}" class="form-control">
                    </fieldset>
                      <br>
                   
                      <input class="btn btn-primary" id="submit" name="submit" type="submit" value="Update">
                   </form>
                </div>
             </div>
          </div>
       </div>
    </div>
 </div>
 <script>
       let num_room = document.getElementById("num_room_to_take");
    let total=0.00;
    let rent = 0.00; 
    let price_each_room = document.getElementById("price_each_room");
    let rent_per_month = document.getElementById("rent_per_month")
    price_each_room.onchange = function(){

       rent = (price_each_room.value * num_room.value);
       $('#rent_per_month').val(rent);
    }
    months_of_payment.onchange = function(){
        let res = price_each_room.value;
       total = (months_of_payment.value * rent_per_month.value);
       $('#total_payable').val(total);
    }

 </script>
 {% endblock %}